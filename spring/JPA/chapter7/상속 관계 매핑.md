- ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” ìƒì†ì´ë¼ëŠ” ê°œë…ì´ ì—†ë‹¤.
- ìŠˆí¼íƒ€ì…ê³¼ ì„œë¸Œíƒ€ì… ê´€ê³„ë¼ëŠ” ëª¨ë¸ë§ ê¸°ë²•ì´ ìƒì†ê³¼ ê°€ì¥ ìœ ì‚¬í•˜ë‹¤.

ìƒì† ê´€ê³„ë¥¼ ë§¤í•‘í•˜ëŠ” ë°©ë²•ì€ 3ê°€ì§€ê°€ ìˆë‹¤.

1. ê°ê°ì˜ í…Œì´ë¸”ë¡œ ë³€í™˜ (ì¡°ì¸ ì „ëµ) : ê°ê°ì„ ëª¨ë‘ í…Œì´ë¸”ë¡œ ë§Œë“¤ê³  ì¡°íšŒí•  ë•Œ ì¡°ì¸ì„ ì‚¬ìš©í•œë‹¤.
2. í†µí•© í…Œì´ë¸”ë¡œ ë³€í™˜ (ë‹¨ì¼ í…Œì´ë¸” ì „ëµ) : í…Œì´ë¸”ì„ í•˜ë‚˜ë§Œ ì‚¬ìš©í•´ì„œ í†µí•©í•œë‹¤.
3. ì„œë¸Œíƒ€ì… í…Œì´ë¸”ë¡œ ë³€í™˜ (êµ¬í˜„ í´ë˜ìŠ¤ë§ˆë‹¤ í…Œì´ë¸” ì „ëµ) : ì„œë¸Œíƒ€ì…ë§ˆë‹¤ í•˜ë‚˜ì˜ í…Œì´ë¸”ì„ ë§Œë“ ë‹¤.

# ì¡°ì¸ ì „ëµ

ì—”í‹°í‹° ê°ê°ì„ **ëª¨ë‘ í…Œì´ë¸”**ë¡œ ë§Œë“¤ê³  ìì‹ í…Œì´ë¸”ì´ ë¶€ëª¨ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ë¥¼ ë°›ì•„ì„œ **ê¸°ë³¸ í‚¤ + ì™¸ë˜ í‚¤**ë¡œ ì‚¬ìš©í•˜ëŠ” ì „ëµì´ë‹¤.

<aside>
ğŸ’¡ ê°ì²´ëŠ” íƒ€ì…ìœ¼ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆì§€ë§Œ í…Œì´ë¸”ì€ íƒ€ì…ì˜ ê°œë…ì´ ì—†ê¸° ë•Œë¬¸ì— **íƒ€ì…ì„ êµ¬ë¶„í•˜ëŠ” ì»¬ëŸ¼**ì„ ì¶”ê°€í•´ì•¼í•œë‹¤.

</aside>

![https://velog.velcdn.com/images%2Fcham%2Fpost%2F53e6d766-f2d8-4595-aeb7-ccd4cbdd9bb6%2Fimage.png](https://velog.velcdn.com/images%2Fcham%2Fpost%2F53e6d766-f2d8-4595-aeb7-ccd4cbdd9bb6%2Fimage.png)



```java
@Entity
@Inheritance(strategy = InheritanceType.JOINED)
@DiscriminatorColumn(name = "DTYPE")
public abstract class Item {
	@Id @GeneratedValue
	@Column(naem = "ITEM_ID")
	private Long id;

	private String naem;
	private int price;
}

@Entity
@DiscriminatorValue("A")
public class Album extends Item {
	private String artist;
}

@Entity
@DiscriminatorValue("M")
@PrimaryKeyJoinColumn(name = "BOOK_ID") // ID ì¬ì •ì˜
public class Movie extends Item {
	private String director;
	private String actor;
}
```

- @Inheritance(strategy = InheritanceType.JOINED) : ìƒì† ë§¤í•‘ì„ í•˜ê¸° ìœ„í•´ì„œ ë¶€ëª¨ í´ë˜ìŠ¤ì— ì‚¬ìš©í•´ì•¼ í•œë‹¤.
- @DiscriminatorColumn(name = â€œDTYPEâ€) : ë¶€ëª¨ í´ë˜ìŠ¤ì— êµ¬ë¶„ ì»¬ëŸ¼ì„ ì§€ì •í•œë‹¤. â†’ ìì‹ í…Œì´ë¸” êµ¬ë¶„ ê°€ëŠ¥.
- @DiscriminatorValue(â€Mâ€) : ì—”í‹°í‹°ë¥¼ ì €ì¥í•  ë•Œ êµ¬ë¶„ ì»¬ëŸ¼ì— ì…ë ¥í•  ê°’ì„ ì§€ì •í•œë‹¤.
- @PrimaryKeyJoinColumn(name = â€œBOOK_IDâ€) : ìì‹ í…Œì´ë¸”ì„ ê¸°ë³¸ í‚¤ ì»¬ëŸ¼ëª…ì„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.

## ì¥ì 

- í…Œì´ë¸”ì´ ì •ê·œí™”ëœë‹¤.
- ì™¸ë˜ í‚¤ ì°¸ì¡° ë¬´ê²°ì„± ì œì•½ì¡°ê±´ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤.
- ì €ì¥ê³µê°„ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.

## ë‹¨ì 

- ì¡°íšŒí•  ë•Œ ì¡°ì¸ì„ ë§ì´ ì‚¬ìš©ë˜ë¯€ë¡œ ì„±ëŠ¥ì´ ì €í•˜ë  ìˆ˜ ìˆë‹¤.
- ì¡°íšŒ ì¿¼ë¦¬ê°€ ë³µì¡í•˜ë‹¤.
- ë°ì´í„°ë¥¼ ë“±ë¡í•  Insert SQLì„ ë‘ ë²ˆ ì‹¤í–‰í•œë‹¤.

# ë‹¨ì¼ í…Œì´ë¸” ì „ëµ

ë‹¨ì¼ í…Œì´ë¸” ì „ëµì€ ì´ë¦„ ê·¸ëŒ€ë¡œ í…Œì´ë¸”ì„ í•˜ë‚˜ë§Œ ì‚¬ìš©í•˜ëŠ” ì „ëµì´ë‹¤.

- ì¡°ì¸ì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì¼ë°˜ì ìœ¼ë¡œ ê°€ì¥ ë¹ ë¥´ë‹¤.

<aside>
ğŸ’¡ **â€» ìì‹ ì—”í‹°í‹°ê°€ ë§¤í•‘í•œ ì»¬ëŸ¼ì€ ëª¨ë‘ nullì„ í—ˆìš©í•´ì•¼ í•œë‹¤. â€»**

</aside>

![](https://prod-files-secure.s3.us-west-2.amazonaws.com/1f77606d-f652-48eb-b5bd-c833bfa79cb6/f0378151-4243-45fc-bb79-94dde8d6b09e/Untitled.png)

[https://taegyunwoo.github.io/assets/img/2021-11-07-JPA_Mapping_Expert_1/Untitled 23.png](https://taegyunwoo.github.io/assets/img/2021-11-07-JPA_Mapping_Expert_1/Untitled%2023.png)

```java
@Entity
@Inheritance(strategy = InheritanceType.SINGLE_TABLE)
@DiscriminatorColumn(name = "DTYPE")
public abstract class Item {
	@Id @GeneratedValue
	@Column(naem = "ITEM_ID")
	private Long id;

	private String naem;
	private int price;
}

@Entity
@DiscriminatorValue("A")
public class Album extends Item { ... }

@Entity
@DiscriminatorValue("M")
public class Movie extends Item { ... }
```

- í…Œì´ë¸” í•˜ë‚˜ì— ëª¨ë“  ê²ƒì„ í†µí•©í•˜ë¯€ë¡œ êµ¬ë¶„ ì»¬ëŸ¼ì€ í•„ìˆ˜ë¡œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

## ì¥ì 

- ì¡°ì¸ì´ í•„ìš” ì—†ìœ¼ë¯€ë¡œ ì¼ë°˜ì ìœ¼ë¡œ ì¡°íšŒ ì„±ëŠ¥ì´ ë¹ ë¥´ë‹¤.
- ì¡°íšŒ ì¿¼ë¦¬ê°€ ë‹¨ìˆœí•˜ë‹¤.

## ë‹¨ì 

- ìì‹ ì—”í‹°í‹°ê°€ ë§¤í•‘í•œ ì»¬ëŸ¼ì€ ëª¨ë‘ nullì„ í—ˆìš©í•´ì•¼í•œë‹¤.
- í…Œì´ë¸”ì´ ì»¤ì§ˆ ìˆ˜ ìˆë‹¤. â†’ ìƒí™©ì— ë”°ë¼ì„œ ì¡°íšŒ ì„±ëŠ¥ì´ ëŠ¦ì„ ìˆ˜ ìˆë‹¤.

# êµ¬í˜„ë§ˆë‹¤ í…Œì´ë¸” ì „ëµ

- ìì‹ ì—”í‹°í‹°ë§ˆë‹¤ í…Œì´ë¸”ì„ ë§Œë“ ë‹¤.

![](https://velog.velcdn.com/images%2Fcham%2Fpost%2F4c1e96fb-3ca2-4353-87c4-1a2538b2f65a%2Fimage.png)



```java
@Entity
@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)
public abstract class Item {
	@Id @GeneratedValue
	@Column(naem = "ITEM_ID")
	private Long id;

	private String naem;
	private int price;
}

@Entity
public class Album extends Item { ... }

@Entity
public class Movie extends Item { ... }
```

- ì¼ë°˜ì ìœ¼ë¡œ ì¶”ì²œí•˜ì§€ ì•ŠëŠ”ë‹¤.

## ì¥ì 

- ì„œë¸Œ íƒ€ì…ì„ êµ¬ë¶„í•´ì„œ ì²˜ë¦¬í•  ë•Œ íš¨ê³¼ì ì´ë‹¤.
- not null ì œì•½ ì¡°ê±´ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

## ë‹¨ì 

- ì—¬ëŸ¬ ìì‹ í…Œì´ë¸”ì„ í•¨ê»˜ ì¡°íšŒí•  ë•Œ ì„±ëŠ¥ì´ ëŠë¦¬ë‹¤.
- ìì‹ í…Œì´ë¸”ì„ í†µí•©í•´ì„œ ì¿¼ë¦¬í•˜ê¸° ì–´ë µë‹¤.

## íŠ¹ì§•

- êµ¬ë¶„ ì»¬ëŸ¼ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.